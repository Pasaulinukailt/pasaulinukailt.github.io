<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pasaulinukai — 3D arba Medžio graviravimas</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial; background:radial-gradient(circle at top center,#a8e6cf,#dcedc1,#bbdefb); color:#111;min-height:100vh;display:flex;align-items:flex-start;justify-content:center;padding:4vh 3vw}

    /* Liquid glass card */
    .glass{width:100%;max-width:980px;background:linear-gradient(180deg,rgba(255,255,255,0.16),rgba(255,255,255,0.06));border-radius:24px;padding:28px;backdrop-filter:blur(22px) saturate(200%);-webkit-backdrop-filter:blur(22px) saturate(200%);border:1px solid rgba(255,255,255,0.36);box-shadow:0 20px 50px rgba(6,18,36,0.12), inset 0 6px 40px rgba(255,255,255,0.06);transform-origin:top center;transform:translateY(18px);opacity:0;transition:all .6s cubic-bezier(.22,1,.36,1)}
    .glass.loaded{transform:translateY(0);opacity:1}

    header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px}
    h1{font-size:clamp(1.6rem,2.8vw,2.4rem);font-weight:800;background:linear-gradient(90deg,#007aff,#00c6ff,#7b61ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .slogan{font-size:1rem;color:rgba(10,10,10,0.75)}
    .google-link{display:inline-block;padding:8px 12px;border-radius:12px;background:#007aff;color:#fff;text-decoration:none;font-weight:700}

    .layout{display:grid;grid-template-columns:1fr 360px;gap:18px}
    @media(max-width:980px){.layout{grid-template-columns:1fr}}

    label{display:block;font-weight:700;margin:8px 0 6px}
    input[type=text],select,input[type=date],input[type=email],input[type=tel]{width:100%;padding:12px;border-radius:12px;border:none;background:rgba(255,255,255,0.95)}
    .btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    button{padding:10px 14px;border-radius:12px;border:none;background:linear-gradient(90deg,#007aff,#00c6ff,#7b61ff);color:#fff;font-weight:700;cursor:pointer}
    button.muted{background:rgba(255,255,255,0.9);color:#111}

    .note{font-size:.92rem;color:rgba(0,0,0,0.65);background:rgba(255,255,255,0.28);padding:10px;border-radius:10px;margin-top:12px}

    aside{padding:12px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.10),rgba(255,255,255,0.04));display:flex;flex-direction:column;gap:12px;align-items:stretch}
    .priceBox{font-weight:900;font-size:1.15rem;color:#0b6;padding:10px;border-radius:10px;text-align:center;background:rgba(255,255,255,0.28)}

    .liquid-highlight{position:relative}
    .liquid-highlight::after{content:'';position:absolute;left:-10%;right:-10%;top:-20%;height:60%;background:radial-gradient(600px 120px at 20% 10%, rgba(255,255,255,0.35), transparent), linear-gradient(90deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));transform:rotate(-6deg);border-radius:30px;pointer-events:none}

    footer{margin-top:14px;text-align:center;font-size:.95rem;color:rgba(0,0,0,0.55)}
  </style>
</head>
<body>
  <div class="glass" id="app"> 
    <header>
      <div>
        <h1>Pasaulinukai Lietuva</h1>
        <div class="slogan">Pasaulis ant tavo raktų</div>
      </div>
      <div>
        <a class="google-link" href="https://docs.google.com/forms/d/e/1FAIpQLSeSXqhfAI4mGfqAsmqDxWZZ6PimNVjhN1tgeo_fBjUA6UMjjg/viewform?usp=dialog" target="_blank" rel="noopener">Google Forms</a>
      </div>
    </header>

    <div class="layout">
      <main>
        <!-- Start screen: choose order type -->
        <section id="startScreen">
          <label>Ką norite užsisakyti?</label>
          <div class="btn-row">
            <button id="btn3d">3D spausdinimas — €12.00</button>
            <button id="btnWood" class="muted">Medžio graviravimas — €4.99</button>
          </div>
        </section>

        <!-- 3D flow (liquid glass styled) -->
        <section id="flow3d" style="display:none">
          <div class="liquid-highlight" id="stepA">
            <label for="obj">1) Pasirinkite objektą</label>
            <select id="obj">
              <option value="">-- Pasirinkite --</option>
              <option value="Eifelio bokštas">Eifelio bokštas</option>
              <option value="Burj Khalifa">Burj Khalifa</option>
              <option value="Širdelė">Širdelė</option>
              <option value="Apskritimas">Apskritimas</option>
              <option value="Kvadratas">Kvadratas</option>
            </select>
            <div class="btn-row"><button id="toText">Toliau</button></div>
          </div>

          <div id="stepB" style="display:none;margin-top:12px" class="liquid-highlight">
            <label for="text3d">2) Tekstas (max 8 raidės)</label>
            <input id="text3d" type="text" maxlength="8" placeholder="Tekstas (nebūtina)">
            <div class="btn-row"><button class="muted" id="backToA">Atgal</button><button id="toColor">Toliau</button></div>
          </div>

          <div id="stepC" style="display:none;margin-top:12px" class="liquid-highlight">
            <label for="color3d">3) Spalva</label>
            <select id="color3d">
              <option value="pilka">Pilka (numatyta)</option>
              <option value="raudona">Raudona</option>
              <option value="melyna">Mėlyna</option>
              <option value="zalia">Žalia</option>
              <option value="juoda">Juoda</option>
              <option value="balta">Balta</option>
            </select>
            <div class="btn-row"><button class="muted" id="backToB">Atgal</button><button id="toDate">Toliau</button></div>
          </div>

          <div id="stepD" style="display:none;margin-top:12px" class="liquid-highlight">
            <label for="date3d">4) Data (nebūtina)</label>
            <input id="date3d" type="date">
            <div class="btn-row"><button class="muted" id="backToC">Atgal</button><button id="finish3d">Peržiūrėti santrauką</button></div>
          </div>
        </section>

        <!-- Wood flow (simple) -->
        <section id="flowWood" style="display:none">
          <label for="woodText">Tekstas graviravimui (max 12)</label>
          <input id="woodText" type="text" maxlength="12" placeholder="Tekstas ant medžio (nebūtina)">
          <label for="woodNotes">Forma / pastabos (nebūtina)</label>
          <input id="woodNotes" type="text" placeholder="Pvz. apvalus pakabukas">
          <div class="btn-row" style="margin-top:10px">
            <button id="reviewWood">Peržiūrėti santrauką</button>
            <button class="muted" id="cancelWood">Atšaukti</button>
          </div>
        </section>

        <!-- Summary (shared) -->
        <section id="summary" style="display:none;margin-top:12px">
          <h3>Santrauka</h3>
          <div id="summaryText" style="text-align:left;padding:12px;border-radius:12px;background:rgba(255,255,255,0.9);"></div>

          <form id="orderForm" action="https://formspree.io/f/mgvnyvbv" method="POST">
            <input type="hidden" name="orderType" id="f_type">
            <input type="hidden" name="object" id="f_object">
            <input type="hidden" name="text" id="f_text">
            <input type="hidden" name="color" id="f_color">
            <input type="hidden" name="date" id="f_date">
            <input type="hidden" name="price" id="f_price">

            <label>Vardas pavardė</label>
            <input name="fullname" type="text" required>
            <label>El. paštas</label>
            <input name="email" type="email" required>
            <label>Telefono numeris</label>
            <input name="phone" type="tel" required>

            <div class="btn-row" style="margin-top:12px">
              <button type="submit">Siųsti užklausą</button>
              <button type="button" class="muted" id="startAnother">Pradėti naują užsakymą</button>
            </div>
          </form>
        </section>

        <div class="note">Pastaba: kaina rodoma tik santraukoje. Siuntimas bus derinamas susisiekus.</div>
      </main>

      <aside>
        <div class="priceBox" id="priceBox">
          <!-- price displayed only in summary -->
          Kaina bus parodyta santraukoje
        </div>
      </aside>
    </div>
  </div>

  <script>
    // Elements
    const app = document.getElementById('app');

    const startScreen = document.getElementById('startScreen');
    const flow3d = document.getElementById('flow3d');
    const flowWood = document.getElementById('flowWood');
    const summary = document.getElementById('summary');
    const summaryText = document.getElementById('summaryText');
    const priceBox = document.getElementById('priceBox');

    const btn3d = document.getElementById('btn3d');
    const btnWood = document.getElementById('btnWood');

    // 3D steps
    const stepA = document.getElementById('stepA');
    const stepB = document.getElementById('stepB');
    const stepC = document.getElementById('stepC');
    const stepD = document.getElementById('stepD');

    const obj = document.getElementById('obj');
    const text3d = document.getElementById('text3d');
    const color3d = document.getElementById('color3d');
    const date3d = document.getElementById('date3d');

    // Wood elems
    const woodText = document.getElementById('woodText');
    const woodNotes = document.getElementById('woodNotes');

    // summary hidden inputs
    const f_type = document.getElementById('f_type');
    const f_object = document.getElementById('f_object');
    const f_text = document.getElementById('f_text');
    const f_color = document.getElementById('f_color');
    const f_date = document.getElementById('f_date');
    const f_price = document.getElementById('f_price');

    // Buttons
    document.getElementById('toText').addEventListener('click', ()=>{ if(!obj.value){ alert('Pasirinkite objektą'); return;} stepA.style.display='none'; stepB.style.display='block'; });
    document.getElementById('backToA').addEventListener('click', ()=>{ stepB.style.display='none'; stepA.style.display='block'; });
    document.getElementById('toColor').addEventListener('click', ()=>{ stepB.style.display='none'; stepC.style.display='block'; });
    document.getElementById('backToB').addEventListener('click', ()=>{ stepC.style.display='none'; stepB.style.display='block'; });
    document.getElementById('toDate').addEventListener('click', ()=>{ stepC.style.display='none'; stepD.style.display='block'; });
    document.getElementById('backToC').addEventListener('click', ()=>{ stepD.style.display='none'; stepC.style.display='block'; });
    document.getElementById('finish3d').addEventListener('click', ()=>{ showSummary('3d'); });

    document.getElementById('reviewWood').addEventListener('click', ()=> showSummary('wood'));
    document.getElementById('cancelWood').addEventListener('click', ()=>{ flowWood.style.display='none'; startScreen.style.display='block'; updatePricePlaceholder(); });

    document.getElementById('startAnother').addEventListener('click', ()=>{ resetAll(); });

    btn3d.addEventListener('click', ()=>{ startScreen.style.display='none'; flow3d.style.display='block'; stepA.style.display='block'; stepB.style.display='none'; stepC.style.display='none'; stepD.style.display='none'; updatePricePlaceholder(); });
    btnWood.addEventListener('click', ()=>{ startScreen.style.display='none'; flowWood.style.display='block'; updatePricePlaceholder(); });

    // Pricing: fixed
    const PRICE_3D = 12.00;
    const PRICE_WOOD = 4.99;
    const TEXT_FEE = 0.20; // only added to final? user said fixed price, but earlier included text fee — user requested fixed so remove extra fees

    // Show summary and fill form inputs
    function showSummary(type){
      flow3d.style.display='none'; flowWood.style.display='none'; startScreen.style.display='none'; summary.style.display='block';
      let html = '';
      let price = 0;
      if(type==='3d'){
        f_type.value = '3D';
        f_object.value = obj.value;
        f_text.value = text3d.value.trim();
        f_color.value = color3d.value;
        f_date.value = date3d.value || '';
        price = PRICE_3D; // fixed
        html += `<strong>Tipas:</strong> 3D spausdinimas<br>`;
        html += `<strong>Objektas:</strong> ${escapeHtml(obj.value)}<br>`;
        html += `<strong>Tekstas:</strong> ${escapeHtml(text3d.value) || '—'}<br>`;
        html += `<strong>Spalva:</strong> ${escapeHtml(color3d.value)}<br>`;
        html += `<strong>Data:</strong> ${f_date.value || '—'}<br>`;
      } else if(type==='wood'){
        f_type.value = 'WOOD';
        f_object.value = woodNotes.value.trim() || 'Medžio graviravimas';
        f_text.value = woodText.value.trim();
        f_color.value = '';
        f_date.value = '';
        price = PRICE_WOOD;
        html += `<strong>Tipas:</strong> Medžio graviravimas<br>`;
        html += `<strong>Tekstas:</strong> ${escapeHtml(woodText.value) || '—'}<br>`;
        html += `<strong>Forma / pastabos:</strong> ${escapeHtml(woodNotes.value) || '—'}<br>`;
      }
      html += `<hr><strong>Kaina:</strong> €${price.toFixed(2)}`;
      summaryText.innerHTML = html;
      f_price.value = price.toFixed(2);
      priceBox.textContent = `Galutinė kaina: €${price.toFixed(2)}`;
      // scroll to summary smoothly
      summary.scrollIntoView({behavior:'smooth'});
    }

    function updatePricePlaceholder(){ priceBox.textContent = 'Kaina bus parodyta santraukoje'; }

    // reset to start
    function resetAll(){ summary.style.display='none'; flow3d.style.display='none'; flowWood.style.display='none'; startScreen.style.display='block'; obj.value=''; text3d.value=''; color3d.value='pilka'; date3d.value=''; woodText.value=''; woodNotes.value=''; f_type.value=''; f_object.value=''; f_text.value=''; f_color.value=''; f_date.value=''; f_price.value=''; updatePricePlaceholder(); }

    function escapeHtml(s){ if(!s) return ''; return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;'); }

    // Entrance animation & overscroll stretch
    window.addEventListener('load', ()=>{ app.classList.add('loaded'); updatePricePlaceholder(); });
    (function(){ const el = document.querySelector('.glass'); let startY=0,pulling=false,anim=null; function setStretch(scale){ el.style.transform = `translateY(0) scaleY(${scale})`; } function release(){ const from = parseFloat(getComputedStyle(el).transform.split(',')[5])||1; const dur=420; const t0=performance.now(); if(anim) cancelAnimationFrame(anim); function step(t){ const p=Math.min(1,(t-t0)/dur); const eased=1-Math.pow(1-p,3); const val = from + (1-from)*eased; setStretch(val); if(p<1) anim=requestAnimationFrame(step); else anim=null; } anim=requestAnimationFrame(step);} window.addEventListener('touchstart',e=>{ if(window.scrollY<=0){ startY=e.touches[0].clientY; pulling=true; } },{passive:true}); window.addEventListener('touchmove',e=>{ if(!pulling) return; const d=e.touches[0].clientY - startY; if(d>0){ const s = 1 + Math.min(0.3, Math.log10(1+d)*0.08); setStretch(s); } },{passive:true}); window.addEventListener('touchend',()=>{ if(pulling) release(); pulling=false; }); window.addEventListener('wheel', e=>{ if(window.scrollY<=0 && e.deltaY<0){ setStretch(1.06); setTimeout(()=>release(),140); } },{passive:true}); })();
  </script>
</body>
</html>
